(()=>{"use strict";new class{constructor(t){this.form=document.querySelector(t)}cepValidation(t){const e=t.replace(/\D/g,"");""!==this.form.cep.value?/^[0-9]{8}$/.test(e)?this.fetchAddress(e):(this.clearForm(),alert("CEP inválido")):this.clearForm()}fillForm(t,e,r,o){this.form.rua.value=t,this.form.bairro.value=e,this.form.cidade.value=r,this.form.estado.value=o}fetchAddress(t){this.url=`https://viacep.com.br/ws/${t}/json/`,fetch(this.url).then((t=>t.json())).then((t=>{t.erro?(this.clearForm(),alert("CEP não encontrado!")):this.fillForm(t.logradouro,t.bairro,t.localidade,t.uf)}))}addCepInputEvent(){this.form.cep.addEventListener("change",(()=>{this.cepValidation(this.form.cep.value)}))}clearForm(){[].forEach.call(this.form,(t=>{t.value=""}))}init(){return this.addCepInputEvent(),this}}("form").init()})();